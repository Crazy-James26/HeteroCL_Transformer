// ==============================================================
// RTL generated by Vivado(TM) HLS - High-Level Synthesis from C, C++ and OpenCL
// Version: 2019.2.1
// Copyright (C) 1986-2019 Xilinx, Inc. All Rights Reserved.
// 
// ===========================================================

#ifndef _Self_attention_HH_
#define _Self_attention_HH_

#include "systemc.h"
#include "AESL_pkg.h"

#include "Softmax_layer.h"
#include "Attention_layer.h"
#include "Context_layer.h"
#include "Self_attention_Q_h.h"
#include "Self_attention_v88.h"
#include "Self_attention_v89.h"

namespace ap_rtl {

struct Self_attention : public sc_module {
    // Port declarations 19
    sc_in_clk ap_clk;
    sc_in< sc_logic > ap_rst;
    sc_in< sc_logic > ap_start;
    sc_out< sc_logic > ap_done;
    sc_out< sc_logic > ap_idle;
    sc_out< sc_logic > ap_ready;
    sc_out< sc_lv<14> > v75_address0;
    sc_out< sc_logic > v75_ce0;
    sc_in< sc_lv<32> > v75_q0;
    sc_out< sc_lv<14> > v76_address0;
    sc_out< sc_logic > v76_ce0;
    sc_in< sc_lv<32> > v76_q0;
    sc_out< sc_lv<14> > v77_address0;
    sc_out< sc_logic > v77_ce0;
    sc_in< sc_lv<32> > v77_q0;
    sc_out< sc_lv<14> > v78_address0;
    sc_out< sc_logic > v78_ce0;
    sc_out< sc_logic > v78_we0;
    sc_out< sc_lv<32> > v78_d0;


    // Module declarations
    Self_attention(sc_module_name name);
    SC_HAS_PROCESS(Self_attention);

    ~Self_attention();

    sc_trace_file* mVcdFile;

    Self_attention_Q_h* Q_h_U;
    Self_attention_Q_h* K_h_U;
    Self_attention_Q_h* V_h_U;
    Self_attention_v88* v88_U;
    Self_attention_v89* v89_U;
    Self_attention_Q_h* v90_U;
    Softmax_layer* grp_Softmax_layer_fu_281;
    Attention_layer* grp_Attention_layer_fu_287;
    Context_layer* grp_Context_layer_fu_294;
    sc_signal< sc_lv<11> > ap_CS_fsm;
    sc_signal< sc_logic > ap_CS_fsm_state1;
    sc_signal< sc_lv<10> > indvar_flatten_reg_215;
    sc_signal< sc_lv<4> > i_s_0_reg_226;
    sc_signal< sc_lv<7> > j_s_0_reg_237;
    sc_signal< sc_lv<10> > indvar_flatten11_reg_248;
    sc_signal< sc_lv<4> > i_m_0_reg_259;
    sc_signal< sc_lv<7> > j_m_0_reg_270;
    sc_signal< sc_lv<1> > icmp_ln172_fu_301_p2;
    sc_signal< sc_logic > ap_CS_fsm_state2;
    sc_signal< sc_lv<4> > h_fu_307_p2;
    sc_signal< sc_lv<4> > h_reg_575;
    sc_signal< sc_lv<10> > shl_ln_fu_313_p3;
    sc_signal< sc_lv<10> > shl_ln_reg_580;
    sc_signal< sc_lv<1> > icmp_ln176_fu_321_p2;
    sc_signal< sc_lv<1> > icmp_ln176_reg_586;
    sc_signal< sc_logic > ap_CS_fsm_pp0_stage0;
    sc_signal< bool > ap_block_state3_pp0_stage0_iter0;
    sc_signal< bool > ap_block_state4_pp0_stage0_iter1;
    sc_signal< bool > ap_block_state5_pp0_stage0_iter2;
    sc_signal< bool > ap_block_pp0_stage0_11001;
    sc_signal< sc_lv<1> > icmp_ln176_reg_586_pp0_iter1_reg;
    sc_signal< sc_lv<10> > add_ln176_fu_327_p2;
    sc_signal< sc_logic > ap_enable_reg_pp0_iter0;
    sc_signal< sc_lv<7> > select_ln179_fu_345_p3;
    sc_signal< sc_lv<7> > select_ln179_reg_595;
    sc_signal< sc_lv<7> > select_ln179_reg_595_pp0_iter1_reg;
    sc_signal< sc_lv<4> > select_ln179_1_fu_353_p3;
    sc_signal< sc_lv<4> > select_ln179_1_reg_600;
    sc_signal< sc_lv<4> > select_ln179_1_reg_600_pp0_iter1_reg;
    sc_signal< sc_lv<10> > add_ln179_fu_365_p2;
    sc_signal< sc_lv<10> > add_ln179_reg_608;
    sc_signal< sc_lv<7> > j_s_fu_370_p2;
    sc_signal< sc_lv<1> > icmp_ln193_fu_447_p2;
    sc_signal< sc_lv<1> > icmp_ln193_reg_633;
    sc_signal< sc_logic > ap_CS_fsm_pp1_stage0;
    sc_signal< bool > ap_block_state12_pp1_stage0_iter0;
    sc_signal< bool > ap_block_state13_pp1_stage0_iter1;
    sc_signal< bool > ap_block_pp1_stage0_11001;
    sc_signal< sc_lv<10> > add_ln193_fu_453_p2;
    sc_signal< sc_logic > ap_enable_reg_pp1_iter0;
    sc_signal< sc_lv<4> > select_ln196_1_fu_479_p3;
    sc_signal< sc_lv<4> > select_ln196_1_reg_642;
    sc_signal< sc_lv<10> > add_ln197_fu_518_p2;
    sc_signal< sc_lv<10> > add_ln197_reg_654;
    sc_signal< sc_lv<7> > j_m_fu_523_p2;
    sc_signal< bool > ap_block_pp0_stage0_subdone;
    sc_signal< sc_logic > ap_condition_pp0_exit_iter0_state3;
    sc_signal< sc_logic > ap_enable_reg_pp0_iter1;
    sc_signal< sc_logic > ap_enable_reg_pp0_iter2;
    sc_signal< sc_logic > ap_CS_fsm_state11;
    sc_signal< sc_logic > grp_Context_layer_fu_294_ap_ready;
    sc_signal< sc_logic > grp_Context_layer_fu_294_ap_done;
    sc_signal< bool > ap_block_pp1_stage0_subdone;
    sc_signal< sc_logic > ap_condition_pp1_exit_iter0_state12;
    sc_signal< sc_logic > ap_enable_reg_pp1_iter1;
    sc_signal< sc_lv<10> > Q_h_address0;
    sc_signal< sc_logic > Q_h_ce0;
    sc_signal< sc_logic > Q_h_we0;
    sc_signal< sc_lv<32> > Q_h_q0;
    sc_signal< sc_lv<10> > K_h_address0;
    sc_signal< sc_logic > K_h_ce0;
    sc_signal< sc_logic > K_h_we0;
    sc_signal< sc_lv<32> > K_h_q0;
    sc_signal< sc_lv<10> > V_h_address0;
    sc_signal< sc_logic > V_h_ce0;
    sc_signal< sc_logic > V_h_we0;
    sc_signal< sc_lv<32> > V_h_q0;
    sc_signal< sc_lv<8> > v88_address0;
    sc_signal< sc_logic > v88_ce0;
    sc_signal< sc_logic > v88_we0;
    sc_signal< sc_lv<32> > v88_d0;
    sc_signal< sc_lv<32> > v88_q0;
    sc_signal< sc_logic > v88_ce1;
    sc_signal< sc_logic > v88_we1;
    sc_signal< sc_lv<8> > v89_address0;
    sc_signal< sc_logic > v89_ce0;
    sc_signal< sc_logic > v89_we0;
    sc_signal< sc_lv<32> > v89_q0;
    sc_signal< sc_lv<10> > v90_address0;
    sc_signal< sc_logic > v90_ce0;
    sc_signal< sc_logic > v90_we0;
    sc_signal< sc_lv<32> > v90_q0;
    sc_signal< sc_logic > grp_Softmax_layer_fu_281_ap_start;
    sc_signal< sc_logic > grp_Softmax_layer_fu_281_ap_done;
    sc_signal< sc_logic > grp_Softmax_layer_fu_281_ap_idle;
    sc_signal< sc_logic > grp_Softmax_layer_fu_281_ap_ready;
    sc_signal< sc_lv<8> > grp_Softmax_layer_fu_281_v42_address0;
    sc_signal< sc_logic > grp_Softmax_layer_fu_281_v42_ce0;
    sc_signal< sc_logic > grp_Softmax_layer_fu_281_v42_we0;
    sc_signal< sc_lv<32> > grp_Softmax_layer_fu_281_v42_d0;
    sc_signal< sc_lv<8> > grp_Softmax_layer_fu_281_v43_address0;
    sc_signal< sc_logic > grp_Softmax_layer_fu_281_v43_ce0;
    sc_signal< sc_logic > grp_Softmax_layer_fu_281_v43_we0;
    sc_signal< sc_lv<32> > grp_Softmax_layer_fu_281_v43_d0;
    sc_signal< sc_logic > grp_Attention_layer_fu_287_ap_start;
    sc_signal< sc_logic > grp_Attention_layer_fu_287_ap_done;
    sc_signal< sc_logic > grp_Attention_layer_fu_287_ap_idle;
    sc_signal< sc_logic > grp_Attention_layer_fu_287_ap_ready;
    sc_signal< sc_lv<10> > grp_Attention_layer_fu_287_v22_address0;
    sc_signal< sc_logic > grp_Attention_layer_fu_287_v22_ce0;
    sc_signal< sc_lv<10> > grp_Attention_layer_fu_287_v23_address0;
    sc_signal< sc_logic > grp_Attention_layer_fu_287_v23_ce0;
    sc_signal< sc_lv<8> > grp_Attention_layer_fu_287_v24_address0;
    sc_signal< sc_logic > grp_Attention_layer_fu_287_v24_ce0;
    sc_signal< sc_logic > grp_Attention_layer_fu_287_v24_we0;
    sc_signal< sc_lv<32> > grp_Attention_layer_fu_287_v24_d0;
    sc_signal< sc_lv<8> > grp_Attention_layer_fu_287_v24_address1;
    sc_signal< sc_logic > grp_Attention_layer_fu_287_v24_ce1;
    sc_signal< sc_logic > grp_Attention_layer_fu_287_v24_we1;
    sc_signal< sc_lv<32> > grp_Attention_layer_fu_287_v24_d1;
    sc_signal< sc_logic > grp_Context_layer_fu_294_ap_start;
    sc_signal< sc_logic > grp_Context_layer_fu_294_ap_idle;
    sc_signal< sc_lv<8> > grp_Context_layer_fu_294_v58_address0;
    sc_signal< sc_logic > grp_Context_layer_fu_294_v58_ce0;
    sc_signal< sc_lv<10> > grp_Context_layer_fu_294_v59_address0;
    sc_signal< sc_logic > grp_Context_layer_fu_294_v59_ce0;
    sc_signal< sc_lv<10> > grp_Context_layer_fu_294_v60_address0;
    sc_signal< sc_logic > grp_Context_layer_fu_294_v60_ce0;
    sc_signal< sc_logic > grp_Context_layer_fu_294_v60_we0;
    sc_signal< sc_lv<32> > grp_Context_layer_fu_294_v60_d0;
    sc_signal< sc_lv<4> > h_0_reg_204;
    sc_signal< sc_logic > ap_CS_fsm_state14;
    sc_signal< sc_lv<4> > ap_phi_mux_i_s_0_phi_fu_230_p4;
    sc_signal< bool > ap_block_pp0_stage0;
    sc_signal< sc_lv<4> > ap_phi_mux_i_m_0_phi_fu_263_p4;
    sc_signal< bool > ap_block_pp1_stage0;
    sc_signal< sc_logic > grp_Softmax_layer_fu_281_ap_start_reg;
    sc_signal< sc_logic > ap_CS_fsm_state8;
    sc_signal< sc_logic > ap_CS_fsm_state9;
    sc_signal< sc_logic > grp_Attention_layer_fu_287_ap_start_reg;
    sc_signal< sc_logic > ap_CS_fsm_state6;
    sc_signal< sc_logic > ap_CS_fsm_state7;
    sc_signal< sc_logic > grp_Context_layer_fu_294_ap_start_reg;
    sc_signal< sc_logic > ap_CS_fsm_state10;
    sc_signal< sc_lv<64> > sext_ln179_fu_413_p1;
    sc_signal< sc_lv<64> > zext_ln180_1_fu_440_p1;
    sc_signal< sc_lv<64> > zext_ln196_1_fu_513_p1;
    sc_signal< sc_lv<64> > sext_ln197_fu_566_p1;
    sc_signal< sc_lv<1> > icmp_ln177_fu_339_p2;
    sc_signal< sc_lv<4> > i_s_fu_333_p2;
    sc_signal< sc_lv<10> > zext_ln177_fu_361_p1;
    sc_signal< sc_lv<14> > tmp_s_fu_376_p3;
    sc_signal< sc_lv<12> > tmp_15_fu_387_p3;
    sc_signal< sc_lv<15> > zext_ln179_fu_383_p1;
    sc_signal< sc_lv<15> > zext_ln179_1_fu_394_p1;
    sc_signal< sc_lv<15> > sub_ln179_fu_398_p2;
    sc_signal< sc_lv<15> > zext_ln179_2_fu_404_p1;
    sc_signal< sc_lv<15> > add_ln179_1_fu_407_p2;
    sc_signal< sc_lv<10> > tmp_16_fu_420_p3;
    sc_signal< sc_lv<11> > zext_ln177_1_fu_427_p1;
    sc_signal< sc_lv<11> > zext_ln180_fu_431_p1;
    sc_signal< sc_lv<11> > add_ln180_fu_434_p2;
    sc_signal< sc_lv<1> > icmp_ln194_fu_465_p2;
    sc_signal< sc_lv<4> > i_m_fu_459_p2;
    sc_signal< sc_lv<10> > tmp_19_fu_487_p3;
    sc_signal< sc_lv<7> > select_ln196_fu_471_p3;
    sc_signal< sc_lv<11> > zext_ln194_1_fu_495_p1;
    sc_signal< sc_lv<11> > zext_ln196_fu_503_p1;
    sc_signal< sc_lv<11> > add_ln196_fu_507_p2;
    sc_signal< sc_lv<10> > zext_ln194_fu_499_p1;
    sc_signal< sc_lv<14> > tmp_17_fu_529_p3;
    sc_signal< sc_lv<12> > tmp_18_fu_540_p3;
    sc_signal< sc_lv<15> > zext_ln197_fu_536_p1;
    sc_signal< sc_lv<15> > zext_ln197_1_fu_547_p1;
    sc_signal< sc_lv<15> > sub_ln197_fu_551_p2;
    sc_signal< sc_lv<15> > zext_ln197_2_fu_557_p1;
    sc_signal< sc_lv<15> > add_ln197_1_fu_560_p2;
    sc_signal< sc_lv<11> > ap_NS_fsm;
    sc_signal< sc_logic > ap_idle_pp0;
    sc_signal< sc_logic > ap_enable_pp0;
    sc_signal< sc_logic > ap_idle_pp1;
    sc_signal< sc_logic > ap_enable_pp1;
    static const sc_logic ap_const_logic_1;
    static const sc_logic ap_const_logic_0;
    static const sc_lv<11> ap_ST_fsm_state1;
    static const sc_lv<11> ap_ST_fsm_state2;
    static const sc_lv<11> ap_ST_fsm_pp0_stage0;
    static const sc_lv<11> ap_ST_fsm_state6;
    static const sc_lv<11> ap_ST_fsm_state7;
    static const sc_lv<11> ap_ST_fsm_state8;
    static const sc_lv<11> ap_ST_fsm_state9;
    static const sc_lv<11> ap_ST_fsm_state10;
    static const sc_lv<11> ap_ST_fsm_state11;
    static const sc_lv<11> ap_ST_fsm_pp1_stage0;
    static const sc_lv<11> ap_ST_fsm_state14;
    static const bool ap_const_boolean_1;
    static const sc_lv<32> ap_const_lv32_0;
    static const sc_lv<32> ap_const_lv32_1;
    static const sc_lv<1> ap_const_lv1_0;
    static const sc_lv<32> ap_const_lv32_2;
    static const bool ap_const_boolean_0;
    static const sc_lv<32> ap_const_lv32_9;
    static const sc_lv<1> ap_const_lv1_1;
    static const sc_lv<32> ap_const_lv32_8;
    static const sc_lv<4> ap_const_lv4_0;
    static const sc_lv<32> ap_const_lv32_A;
    static const sc_lv<10> ap_const_lv10_0;
    static const sc_lv<7> ap_const_lv7_0;
    static const sc_lv<32> ap_const_lv32_5;
    static const sc_lv<32> ap_const_lv32_6;
    static const sc_lv<32> ap_const_lv32_3;
    static const sc_lv<32> ap_const_lv32_4;
    static const sc_lv<32> ap_const_lv32_7;
    static const sc_lv<4> ap_const_lv4_C;
    static const sc_lv<4> ap_const_lv4_1;
    static const sc_lv<6> ap_const_lv6_0;
    static const sc_lv<10> ap_const_lv10_300;
    static const sc_lv<10> ap_const_lv10_1;
    static const sc_lv<7> ap_const_lv7_40;
    static const sc_lv<7> ap_const_lv7_1;
    static const sc_lv<8> ap_const_lv8_0;
    // Thread declarations
    void thread_ap_clk_no_reset_();
    void thread_K_h_address0();
    void thread_K_h_ce0();
    void thread_K_h_we0();
    void thread_Q_h_address0();
    void thread_Q_h_ce0();
    void thread_Q_h_we0();
    void thread_V_h_address0();
    void thread_V_h_ce0();
    void thread_V_h_we0();
    void thread_add_ln176_fu_327_p2();
    void thread_add_ln179_1_fu_407_p2();
    void thread_add_ln179_fu_365_p2();
    void thread_add_ln180_fu_434_p2();
    void thread_add_ln193_fu_453_p2();
    void thread_add_ln196_fu_507_p2();
    void thread_add_ln197_1_fu_560_p2();
    void thread_add_ln197_fu_518_p2();
    void thread_ap_CS_fsm_pp0_stage0();
    void thread_ap_CS_fsm_pp1_stage0();
    void thread_ap_CS_fsm_state1();
    void thread_ap_CS_fsm_state10();
    void thread_ap_CS_fsm_state11();
    void thread_ap_CS_fsm_state14();
    void thread_ap_CS_fsm_state2();
    void thread_ap_CS_fsm_state6();
    void thread_ap_CS_fsm_state7();
    void thread_ap_CS_fsm_state8();
    void thread_ap_CS_fsm_state9();
    void thread_ap_block_pp0_stage0();
    void thread_ap_block_pp0_stage0_11001();
    void thread_ap_block_pp0_stage0_subdone();
    void thread_ap_block_pp1_stage0();
    void thread_ap_block_pp1_stage0_11001();
    void thread_ap_block_pp1_stage0_subdone();
    void thread_ap_block_state12_pp1_stage0_iter0();
    void thread_ap_block_state13_pp1_stage0_iter1();
    void thread_ap_block_state3_pp0_stage0_iter0();
    void thread_ap_block_state4_pp0_stage0_iter1();
    void thread_ap_block_state5_pp0_stage0_iter2();
    void thread_ap_condition_pp0_exit_iter0_state3();
    void thread_ap_condition_pp1_exit_iter0_state12();
    void thread_ap_done();
    void thread_ap_enable_pp0();
    void thread_ap_enable_pp1();
    void thread_ap_idle();
    void thread_ap_idle_pp0();
    void thread_ap_idle_pp1();
    void thread_ap_phi_mux_i_m_0_phi_fu_263_p4();
    void thread_ap_phi_mux_i_s_0_phi_fu_230_p4();
    void thread_ap_ready();
    void thread_grp_Attention_layer_fu_287_ap_start();
    void thread_grp_Context_layer_fu_294_ap_start();
    void thread_grp_Softmax_layer_fu_281_ap_start();
    void thread_h_fu_307_p2();
    void thread_i_m_fu_459_p2();
    void thread_i_s_fu_333_p2();
    void thread_icmp_ln172_fu_301_p2();
    void thread_icmp_ln176_fu_321_p2();
    void thread_icmp_ln177_fu_339_p2();
    void thread_icmp_ln193_fu_447_p2();
    void thread_icmp_ln194_fu_465_p2();
    void thread_j_m_fu_523_p2();
    void thread_j_s_fu_370_p2();
    void thread_select_ln179_1_fu_353_p3();
    void thread_select_ln179_fu_345_p3();
    void thread_select_ln196_1_fu_479_p3();
    void thread_select_ln196_fu_471_p3();
    void thread_sext_ln179_fu_413_p1();
    void thread_sext_ln197_fu_566_p1();
    void thread_shl_ln_fu_313_p3();
    void thread_sub_ln179_fu_398_p2();
    void thread_sub_ln197_fu_551_p2();
    void thread_tmp_15_fu_387_p3();
    void thread_tmp_16_fu_420_p3();
    void thread_tmp_17_fu_529_p3();
    void thread_tmp_18_fu_540_p3();
    void thread_tmp_19_fu_487_p3();
    void thread_tmp_s_fu_376_p3();
    void thread_v75_address0();
    void thread_v75_ce0();
    void thread_v76_address0();
    void thread_v76_ce0();
    void thread_v77_address0();
    void thread_v77_ce0();
    void thread_v78_address0();
    void thread_v78_ce0();
    void thread_v78_d0();
    void thread_v78_we0();
    void thread_v88_address0();
    void thread_v88_ce0();
    void thread_v88_ce1();
    void thread_v88_d0();
    void thread_v88_we0();
    void thread_v88_we1();
    void thread_v89_address0();
    void thread_v89_ce0();
    void thread_v89_we0();
    void thread_v90_address0();
    void thread_v90_ce0();
    void thread_v90_we0();
    void thread_zext_ln177_1_fu_427_p1();
    void thread_zext_ln177_fu_361_p1();
    void thread_zext_ln179_1_fu_394_p1();
    void thread_zext_ln179_2_fu_404_p1();
    void thread_zext_ln179_fu_383_p1();
    void thread_zext_ln180_1_fu_440_p1();
    void thread_zext_ln180_fu_431_p1();
    void thread_zext_ln194_1_fu_495_p1();
    void thread_zext_ln194_fu_499_p1();
    void thread_zext_ln196_1_fu_513_p1();
    void thread_zext_ln196_fu_503_p1();
    void thread_zext_ln197_1_fu_547_p1();
    void thread_zext_ln197_2_fu_557_p1();
    void thread_zext_ln197_fu_536_p1();
    void thread_ap_NS_fsm();
};

}

using namespace ap_rtl;

#endif
