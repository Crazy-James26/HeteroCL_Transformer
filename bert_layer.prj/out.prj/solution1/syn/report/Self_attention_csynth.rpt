

================================================================
== Vivado HLS Report for 'Self_attention'
================================================================
* Date:           Tue Aug  1 06:40:09 2023

* Version:        2019.2.1 (Build 2724168 on Thu Dec 05 05:19:09 MST 2019)
* Project:        out.prj
* Solution:       solution1
* Product family: zynq
* Target device:  xc7z020-clg484-1


================================================================
== Performance Estimates
================================================================
+ Timing: 
    * Summary: 
    +--------+----------+----------+------------+
    |  Clock |  Target  | Estimated| Uncertainty|
    +--------+----------+----------+------------+
    |ap_clk  | 10.00 ns | 7.684 ns |   1.25 ns  |
    +--------+----------+----------+------------+

+ Latency: 
    * Summary: 
    +-----------+-----------+-----------+-----------+-----------+-----------+---------+
    |    Latency (cycles)   |   Latency (absolute)  |        Interval       | Pipeline|
    |    min    |    max    |    min    |    max    |    min    |    max    |   Type  |
    +-----------+-----------+-----------+-----------+-----------+-----------+---------+
    |  300376935|  300376935| 3.004 sec | 3.004 sec |  300376935|  300376935|   none  |
    +-----------+-----------+-----------+-----------+-----------+-----------+---------+

    + Detail: 
        * Instance: 
        +-------------------------------+--------------------+----------+----------+-----------+-----------+----------+----------+---------+
        |                               |                    |   Latency (cycles)  |   Latency (absolute)  |       Interval      | Pipeline|
        |            Instance           |       Module       |    min   |    max   |    min    |    max    |    min   |    max   |   Type  |
        +-------------------------------+--------------------+----------+----------+-----------+-----------+----------+----------+---------+
        |grp_Softmax_layer_fu_266       |Softmax_layer       |      5259|      5259| 52.590 us | 52.590 us |      5259|      5259|   none  |
        |grp_Linear_layer_qkvc5_fu_272  |Linear_layer_qkvc5  |  99191883|  99191883| 0.992 sec | 0.992 sec |  99191883|  99191883|   none  |
        |grp_Attention_layer_fu_288     |Attention_layer     |    112107|    112107|  1.121 ms |  1.121 ms |    112107|    112107|   none  |
        |grp_Context_layer_fu_295       |Context_layer       |    112946|    112946|  1.129 ms |  1.129 ms |    112946|    112946|   none  |
        +-------------------------------+--------------------+----------+----------+-----------+-----------+----------+----------+---------+

        * Loop: 
        +---------------------+---------+---------+----------+-----------+-----------+------+----------+
        |                     |  Latency (cycles) | Iteration|  Initiation Interval  | Trip |          |
        |      Loop Name      |   min   |   max   |  Latency |  achieved |   target  | Count| Pipelined|
        +---------------------+---------+---------+----------+-----------+-----------+------+----------+
        |- l_S_h_0_h          |  2801280|  2801280|    233440|          -|          -|    12|    no    |
        | + l_mh_separate_i7  |     1560|     1560|       130|          -|          -|    12|    no    |
        |  ++ l_j7            |      128|      128|         2|          -|          -|    64|    no    |
        | + l_mh_merge_i8     |     1560|     1560|       130|          -|          -|    12|    no    |
        |  ++ l_j8            |      128|      128|         2|          -|          -|    64|    no    |
        +---------------------+---------+---------+----------+-----------+-----------+------+----------+



================================================================
== Utilization Estimates
================================================================
* Summary: 
+-----------------+---------+-------+--------+-------+-----+
|       Name      | BRAM_18K| DSP48E|   FF   |  LUT  | URAM|
+-----------------+---------+-------+--------+-------+-----+
|DSP              |        -|      -|       -|      -|    -|
|Expression       |        -|      -|       0|    256|    -|
|FIFO             |        -|      -|       -|      -|    -|
|Instance         |        0|     24|    3611|   6421|    0|
|Memory           |      106|      -|       0|      0|    0|
|Multiplexer      |        -|      -|       -|    609|    -|
|Register         |        -|      -|     126|      -|    -|
+-----------------+---------+-------+--------+-------+-----+
|Total            |      106|     24|    3737|   7286|    0|
+-----------------+---------+-------+--------+-------+-----+
|Available        |      280|    220|  106400|  53200|    0|
+-----------------+---------+-------+--------+-------+-----+
|Utilization (%)  |       37|     10|       3|     13|    0|
+-----------------+---------+-------+--------+-------+-----+

+ Detail: 
    * Instance: 
    +-------------------------------+--------------------+---------+-------+------+------+-----+
    |            Instance           |       Module       | BRAM_18K| DSP48E|  FF  |  LUT | URAM|
    +-------------------------------+--------------------+---------+-------+------+------+-----+
    |grp_Attention_layer_fu_288     |Attention_layer     |        0|      5|   636|  1247|    0|
    |grp_Context_layer_fu_295       |Context_layer       |        0|      5|   602|  1062|    0|
    |grp_Linear_layer_qkvc5_fu_272  |Linear_layer_qkvc5  |        0|      5|   739|  1341|    0|
    |grp_Softmax_layer_fu_266       |Softmax_layer       |        0|      9|  1634|  2771|    0|
    +-------------------------------+--------------------+---------+-------+------+------+-----+
    |Total                          |                    |        0|     24|  3611|  6421|    0|
    +-------------------------------+--------------------+---------+-------+------+------+-----+

    * DSP48E: 
    N/A

    * Memory: 
    +-------+--------------------+---------+---+----+-----+------+-----+------+-------------+
    | Memory|       Module       | BRAM_18K| FF| LUT| URAM| Words| Bits| Banks| W*Bits*Banks|
    +-------+--------------------+---------+---+----+-----+------+-----+------+-------------+
    |Q_h_U  |Self_attention_Q_h  |        2|  0|   0|    0|   768|   32|     1|        24576|
    |K_h_U  |Self_attention_Q_h  |        2|  0|   0|    0|   768|   32|     1|        24576|
    |V_h_U  |Self_attention_Q_h  |        2|  0|   0|    0|   768|   32|     1|        24576|
    |v87_U  |Self_attention_Q_h  |        2|  0|   0|    0|   768|   32|     1|        24576|
    |v73_U  |Self_attention_v73  |       32|  0|   0|    0|  9216|   32|     1|       294912|
    |v74_U  |Self_attention_v73  |       32|  0|   0|    0|  9216|   32|     1|       294912|
    |v75_U  |Self_attention_v73  |       32|  0|   0|    0|  9216|   32|     1|       294912|
    |v85_U  |Self_attention_v85  |        1|  0|   0|    0|   144|   32|     1|         4608|
    |v86_U  |Self_attention_v85  |        1|  0|   0|    0|   144|   32|     1|         4608|
    +-------+--------------------+---------+---+----+-----+------+-----+------+-------------+
    |Total  |                    |      106|  0|   0|    0| 31008|  288|     9|       992256|
    +-------+--------------------+---------+---+----+-----+------+-----+------+-------------+

    * FIFO: 
    N/A

    * Expression: 
    +-----------------------+----------+-------+---+----+------------+------------+
    |     Variable Name     | Operation| DSP48E| FF| LUT| Bitwidth P0| Bitwidth P1|
    +-----------------------+----------+-------+---+----+------------+------------+
    |add_ln155_1_fu_401_p2  |     +    |      0|  0|  21|          15|          15|
    |add_ln155_fu_392_p2    |     +    |      0|  0|  14|          10|          10|
    |add_ln156_fu_417_p2    |     +    |      0|  0|  13|          11|          11|
    |add_ln171_fu_502_p2    |     +    |      0|  0|  13|          11|          11|
    |add_ln172_1_fu_521_p2  |     +    |      0|  0|  21|          15|          15|
    |add_ln172_fu_512_p2    |     +    |      0|  0|  14|          10|          10|
    |h_fu_308_p2            |     +    |      0|  0|  13|           4|           1|
    |i7_fu_328_p2           |     +    |      0|  0|  13|           4|           1|
    |i8_fu_434_p2           |     +    |      0|  0|  13|           4|           1|
    |j7_fu_386_p2           |     +    |      0|  0|  15|           7|           1|
    |j8_fu_492_p2           |     +    |      0|  0|  15|           7|           1|
    |sub_ln155_fu_358_p2    |     -    |      0|  0|  21|          15|          15|
    |sub_ln172_fu_464_p2    |     -    |      0|  0|  21|          15|          15|
    |icmp_ln149_fu_302_p2   |   icmp   |      0|  0|   9|           4|           4|
    |icmp_ln153_fu_322_p2   |   icmp   |      0|  0|   9|           4|           4|
    |icmp_ln154_fu_380_p2   |   icmp   |      0|  0|  11|           7|           8|
    |icmp_ln169_fu_428_p2   |   icmp   |      0|  0|   9|           4|           4|
    |icmp_ln170_fu_486_p2   |   icmp   |      0|  0|  11|           7|           8|
    +-----------------------+----------+-------+---+----+------------+------------+
    |Total                  |          |      0|  0| 256|         154|         135|
    +-----------------------+----------+-------+---+----+------------+------------+

    * Multiplexer: 
    +-------------------------------------+----+-----------+-----+-----------+
    |                 Name                | LUT| Input Size| Bits| Total Bits|
    +-------------------------------------+----+-----------+-----+-----------+
    |K_h_address0                         |  15|          3|   10|         30|
    |K_h_ce0                              |  15|          3|    1|          3|
    |Q_h_address0                         |  15|          3|   10|         30|
    |Q_h_ce0                              |  15|          3|    1|          3|
    |V_h_address0                         |  15|          3|   10|         30|
    |V_h_ce0                              |  15|          3|    1|          3|
    |ap_NS_fsm                            |  93|         19|    1|         19|
    |grp_Linear_layer_qkvc5_fu_272_v1_q0  |  21|          4|   32|        128|
    |grp_Linear_layer_qkvc5_fu_272_v2_q0  |  21|          4|   32|        128|
    |grp_Linear_layer_qkvc5_fu_272_v3_q0  |  21|          4|   32|        128|
    |h_0_reg_211                          |   9|          2|    4|          8|
    |i7_0_reg_222                         |   9|          2|    4|          8|
    |i8_0_reg_244                         |   9|          2|    4|          8|
    |j7_0_reg_233                         |   9|          2|    7|         14|
    |j8_0_reg_255                         |   9|          2|    7|         14|
    |v65_ce0                              |   9|          2|    1|          2|
    |v66_ce0                              |   9|          2|    1|          2|
    |v67_ce0                              |   9|          2|    1|          2|
    |v68_ce0                              |   9|          2|    1|          2|
    |v69_ce0                              |   9|          2|    1|          2|
    |v70_ce0                              |   9|          2|    1|          2|
    |v71_ce0                              |   9|          2|    1|          2|
    |v73_address0                         |  15|          3|   14|         42|
    |v73_ce0                              |  15|          3|    1|          3|
    |v73_we0                              |   9|          2|    1|          2|
    |v74_address0                         |  15|          3|   14|         42|
    |v74_ce0                              |  15|          3|    1|          3|
    |v74_we0                              |   9|          2|    1|          2|
    |v75_address0                         |  15|          3|   14|         42|
    |v75_ce0                              |  15|          3|    1|          3|
    |v75_we0                              |   9|          2|    1|          2|
    |v85_address0                         |  15|          3|    8|         24|
    |v85_ce0                              |  15|          3|    1|          3|
    |v85_d0                               |  15|          3|   32|         96|
    |v85_we0                              |  15|          3|    1|          3|
    |v86_address0                         |  15|          3|    8|         24|
    |v86_ce0                              |  15|          3|    1|          3|
    |v86_we0                              |   9|          2|    1|          2|
    |v87_address0                         |  15|          3|   10|         30|
    |v87_ce0                              |  15|          3|    1|          3|
    |v87_we0                              |   9|          2|    1|          2|
    +-------------------------------------+----+-----------+-----+-----------+
    |Total                                | 609|        125|  275|        899|
    +-------------------------------------+----+-----------+-----+-----------+

    * Register: 
    +--------------------------------------------+----+----+-----+-----------+
    |                    Name                    | FF | LUT| Bits| Const Bits|
    +--------------------------------------------+----+----+-----+-----------+
    |add_ln156_reg_585                           |  11|   0|   11|          0|
    |add_ln172_1_reg_621                         |  15|   0|   15|          0|
    |ap_CS_fsm                                   |  18|   0|   18|          0|
    |grp_Attention_layer_fu_288_ap_start_reg     |   1|   0|    1|          0|
    |grp_Context_layer_fu_295_ap_start_reg       |   1|   0|    1|          0|
    |grp_Linear_layer_qkvc5_fu_272_ap_start_reg  |   1|   0|    1|          0|
    |grp_Softmax_layer_fu_266_ap_start_reg       |   1|   0|    1|          0|
    |h_0_reg_211                                 |   4|   0|    4|          0|
    |h_reg_533                                   |   4|   0|    4|          0|
    |i7_0_reg_222                                |   4|   0|    4|          0|
    |i7_reg_547                                  |   4|   0|    4|          0|
    |i8_0_reg_244                                |   4|   0|    4|          0|
    |i8_reg_593                                  |   4|   0|    4|          0|
    |j7_0_reg_233                                |   7|   0|    7|          0|
    |j7_reg_565                                  |   7|   0|    7|          0|
    |j8_0_reg_255                                |   7|   0|    7|          0|
    |j8_reg_611                                  |   7|   0|    7|          0|
    |shl_ln_reg_538                              |   4|   0|   10|          6|
    |sub_ln155_reg_552                           |   7|   0|   15|          8|
    |sub_ln172_reg_598                           |   7|   0|   15|          8|
    |zext_ln154_1_reg_557                        |   4|   0|   11|          7|
    |zext_ln170_1_reg_603                        |   4|   0|   11|          7|
    +--------------------------------------------+----+----+-----+-----------+
    |Total                                       | 126|   0|  162|         36|
    +--------------------------------------------+----+----+-----+-----------+



================================================================
== Interface
================================================================
* Summary: 
+--------------+-----+-----+------------+----------------+--------------+
|   RTL Ports  | Dir | Bits|  Protocol  |  Source Object |    C Type    |
+--------------+-----+-----+------------+----------------+--------------+
|ap_clk        |  in |    1| ap_ctrl_hs | Self_attention | return value |
|ap_rst        |  in |    1| ap_ctrl_hs | Self_attention | return value |
|ap_start      |  in |    1| ap_ctrl_hs | Self_attention | return value |
|ap_done       | out |    1| ap_ctrl_hs | Self_attention | return value |
|ap_idle       | out |    1| ap_ctrl_hs | Self_attention | return value |
|ap_ready      | out |    1| ap_ctrl_hs | Self_attention | return value |
|v65_address0  | out |   14|  ap_memory |       v65      |     array    |
|v65_ce0       | out |    1|  ap_memory |       v65      |     array    |
|v65_q0        |  in |   32|  ap_memory |       v65      |     array    |
|v66_address0  | out |   20|  ap_memory |       v66      |     array    |
|v66_ce0       | out |    1|  ap_memory |       v66      |     array    |
|v66_q0        |  in |   32|  ap_memory |       v66      |     array    |
|v67_address0  | out |   10|  ap_memory |       v67      |     array    |
|v67_ce0       | out |    1|  ap_memory |       v67      |     array    |
|v67_q0        |  in |   32|  ap_memory |       v67      |     array    |
|v68_address0  | out |   20|  ap_memory |       v68      |     array    |
|v68_ce0       | out |    1|  ap_memory |       v68      |     array    |
|v68_q0        |  in |   32|  ap_memory |       v68      |     array    |
|v69_address0  | out |   10|  ap_memory |       v69      |     array    |
|v69_ce0       | out |    1|  ap_memory |       v69      |     array    |
|v69_q0        |  in |   32|  ap_memory |       v69      |     array    |
|v70_address0  | out |   20|  ap_memory |       v70      |     array    |
|v70_ce0       | out |    1|  ap_memory |       v70      |     array    |
|v70_q0        |  in |   32|  ap_memory |       v70      |     array    |
|v71_address0  | out |   10|  ap_memory |       v71      |     array    |
|v71_ce0       | out |    1|  ap_memory |       v71      |     array    |
|v71_q0        |  in |   32|  ap_memory |       v71      |     array    |
|v72_address0  | out |   14|  ap_memory |       v72      |     array    |
|v72_ce0       | out |    1|  ap_memory |       v72      |     array    |
|v72_we0       | out |    1|  ap_memory |       v72      |     array    |
|v72_d0        | out |   32|  ap_memory |       v72      |     array    |
+--------------+-----+-----+------------+----------------+--------------+

